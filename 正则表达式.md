

# 基础入门

### `[]`：允许匹配一组可能出现的字符。

> 请你使用字符组匹配`Ruby`、`Rube`、`ruby`、`rube`。
>
> ```js
> [Rr]ub[ey]
> ```

### `-`：区间

> 1. 要匹配任意数字可以使用`[0-9]`；
> 2. 如果想要匹配所有小写字母，可以写成`[a-z]`；
> 3. 想要匹配所有大写字母可以写成`[A-Z]`。
>
> edge：
>
> 匹配数据所有的**数字**、**小写字母**和**大写字母**。
>
> ```js
> [0-9A-Za-z]
> ```

### `\`：匹配特殊字符



### `^`：取反

> `n[^e]` 的意思就是`n`后面的字母不能为 `e`

 

### 开始和结束

1.  `^`指定的是一个字符串的开始
2. `$`指定的是一个字符串的结束。



### 任意字符

`.`字符代表匹配任何单个字符，它**只能出现在方括号以外**。

>  `.`字符只有一个不能匹配的字符，也就是换行符（`\n`）



### 可选字符

`？`：指定一个字符、字符组或其他基本单元可选，这意味着正则表达式引擎将会期望该字符出现**零次或一次**。



### 重复

`{N}` ：在一个字符组后加上`{N}` 就可以表示在它之前的字符组出现`N`次。



### 重复区间

`{M,N}`：`M`是下界而`N`是上界。默认是**贪婪模式**，即尽可能的匹配更多字符，而要使用**非贪婪模式**，我们要在**表达式后面加上 `?`号**。



### 开闭区间

`{M，}`：闭区间不写即可表示匹配一个或无数个。

`+`：匹配`1`个到无数个。👉等价于`{1,}`

`*`：代表`0`个到无数个。👉等价于`{0,}`



## 快捷方式

| 快捷方式       | 描述                                                         |
| -------------- | ------------------------------------------------------------ |
| `\w`           | 与任意单词字符匹配，任意单词字符表示 `[A-Z]`、 `[a-z]`、`[0-9]`、`_` |
| `\d`           | 与任意数字匹配                                               |
| `\s`           | 匹配空白                                                     |
| `\b`           | 匹配单词边界🤜`\b单词\b`                                      |
| 小写改写成大写 | 快捷方式取反                                                 |





# 进阶

### 分组：使用`()`即可。

### 或者条件：`or`

> 要提取所有图片文件的后缀名，可以在各个后缀名之间加上一个 `|`符号：

### 非捕获分组：`(?:表达式)`

> 从而**不捕获数据**，还能使用分组的功能。

例如想要匹配**两个字母组成的单词**或者**四个字母组成的单词**就可以使用**非捕获分组**：

![image](https://cdn.codejiaonang.com/download/cmVnZXhfY2hhcHRlcjIvaW1hZ2VzL2NoYXB0ZXIyL-mdnuaNleiOty5wbmc=)

### 分组的回溯引用

使用`\N`可以引用编号为`N`的分组，因此上述例子的代码我们可以改为：

![image](https://cdn.codejiaonang.com/download/cmVnZXhfY2hhcHRlcjIvaW1hZ2VzL2NoYXB0ZXIyL2ltYWdlOC5wbmc=)

### 正向先行断言

先行断言和后行断言总共有四种：

1. 正向先行断言
2. 反向先行断言
3. 正向后行断言
4. 反向后行断言

**正向先行断言：**`(?=表达式)`，指在某个位置向右看，表示所在位置右侧必须能匹配`表达式`

例如：

## 提取包含大小写字母的字符串

先行断言可以用来判断字符串是否符合特定的规则，例如提取包含至少一个大小写字母的字符串：

![start](https://cdn.codejiaonang.com/download/cmVnZXhfY2hhcHRlcjIvaW1hZ2VzL2NoYXB0ZXIyL-WFiOihjOaWreiogDIucG5n)

`(?=.*?[a-z])(?=.*?[A-Z]).+` 这段正则表达式规定了匹配的字符串中必须包含**至少一个大写和小写的字母**。

### 反向先行断言

`(?!表达式)`的作用是保证右边不能出现某字符。

### 正向后行断言

`(?<=表达式)`：指在某个位置向左看，表示所在位置左侧必须能匹配`表达式

### 反向后行断言

`(?<!表达式)`，指在某个位置向左看，表示所在位置左侧不能匹配`表达式

例如：如果要取出喜欢两个字，要求喜欢的**前面没有我**，**后面没有你**，这个时候就要这么写：`(?<!我)喜欢(?!你)`。

![反向后行断言](C:\Users\Area1\Downloads\反向后行断言.png)



## 附加小知识

`test()` 方法执行一个检索，用来查看正则表达式与指定的字符串是否匹配。返回 `true` 或 `false`。





# 验证用户名与密码的15个正则

## 1. 用户名正则

```js
//用户名正则，4到16位（字母，数字，下划线，减号）
var pwd = prompt("请出入用户名")
var userNamePattern = /^[a-zA-Z0-9_-]{4,16}$/;
if (userNamePattern.test(pwd)) {
	console.log("√");
}else{
	console.log("您的用户名格式有误")
}
```



## 2. 密码强度正则

```js
//密码正则，最少6位，包括至少1个大写字母，1个小写字母，1个数字，1个特殊字符
var pwd = prompt("请出入密码")
var pwdPattern = /^.*(?=.{6,})(?=.*\d)(?=.*[A-Z])(?=.*[a-z])(?=.*[!@#$%^&*? ]).*$/;
if (pwdPattern.test(pwd)) {
	console.log("√");
}else{
	console.log("您的密码格式有误");
}
```



## 3. 整数正则

```js
//正整数正则

var posPattern = /^\d+$/;

//负整数正则

var negPattern = /^-\d+$/;

//整数正则

var intPattern = /^-?\d+$/;

//输出 true

console.log(posPattern.test("42"));

//输出 true

console.log(negPattern.test("-42"));

//输出 true

console.log(intPattern.test("-42"));
```

## 4.  数字正则

可以是整数也可以是浮点数

```js
//正数正则

var posPattern = /^\d*\.?\d+$/;

//负数正则

var negPattern = /^-\d*\.?\d+$/;

//数字正则

var numPattern = /^-?\d*\.?\d+$/;

console.log(posPattern.test("42.2"));

console.log(negPattern.test("-42.2"));

console.log(numPattern.test("-42.2"));
```

## 5. Email正则

```js
//Email正则
var email = prompt("请出入邮箱")
var emailPattern = /^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/;
if (emailPattern.test(email)) {
	console.log("√");
}else{
	console.log("您输入的邮箱格式有误");
}
```

## 6. 手机号码正则

```js
//手机号正则
var mobile = prompt("请出入手机号")
var mobilePattern = /^((13[0-9])|(14[5|7])|(15([0-3]|[5-9]))|(18[0,5-9]))\d{8}$/;
if (mobilePattern.test(mobile)) {
	console.log("√");
}else{
	console.log("您输入手机号有误");
}
```

## 7. 身份证号正则

```js
//身份证号（18位）正则

var cP = /^[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/;

//输出 true

console.log(cP.test("11010519880605371X"));
```

## 8. URL正则

```js
//身份证号（18位）正则

var cP = /^[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$/;

//输出 true

console.log(cP.test("11010519880605371X"));
```

## 9. IPv4地址正则

```js
//ipv4地址正则

var ipP = /^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/;

//输出 true

console.log(ipP.test("115.28.47.26"));
```

## 10. 十六进制颜色正则

```js
//RGB Hex颜色正则

var cPattern = /^#?([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/;

//输出 true

console.log(cPattern.test("#b8b8b8"));
```

## 11. 日期正则

```js
//日期正则，简单判定,未做月份及日期的判定

var dP1 = /^\d{4}(\-)\d{1,2}\1\d{1,2}$/;

//输出 true

console.log(dP1.test("2017-05-11"));

//输出 true

console.log(dP1.test("2017-15-11"));

//日期正则，复杂判定

var dP2 = /^(?:(?!0000)[0-9]{4}-(?:(?:0[1-9]|1[0-2])-(?:0[1-9]|1[0-9]|2[0-8])|(?:0[13-9]|1[0-2])-(?:29|30)|(?:0[13578]|1[02])-31)|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)-02-29)$/;

//输出 true

console.log(dP2.test("2017-02-11"));

//输出 false

console.log(dP2.test("2017-15-11"));

//输出 false

console.log(dP2.test("2017-02-29"));
```

## 12. QQ号码正则

```js
//QQ号正则，5至11位

var qqPattern = /^[1-9][0-9]{4,10}$/;

//输出 true

console.log(qqPattern.test("65974040"));
```

## 13. 微信号正则

```js
//微信号正则，6至20位，以字母开头，字母，数字，减号，下划线

var wxPattern = /^[a-zA-Z]([-_a-zA-Z0-9]{5,19})+$/;

//输出 true

console.log(wxPattern.test("RuilongMao"));
```

## 14. 车牌号正则

```js
//车牌号正则

var cPattern = /^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领A-Z]{1}[A-Z]{1}[A-Z0-9]{4}[A-Z0-9挂学警港澳]{1}$/;

//输出 true

console.log(cPattern.test("京K39006"));
```

## 15. 包含中文正则

```js
//包含中文正则

var cnPattern = /[\u4E00-\u9FA5]/;

//输出 true

console.log(cnPattern.test("42度"));
```
